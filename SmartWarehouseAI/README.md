# üì¶ Smart Warehouse AI

iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—É—á—ë—Ç–∞ —Å–∫–ª–∞–¥–∞ –∑–∞–ø—á–∞—Å—Ç–µ–π —Å AI-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏.

## ‚úÖ –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

**–í–µ—Ä—Å–∏—è:** 1.0
**–°—Ç–∞—Ç—É—Å:** –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
**–ü–æ—Å–ª–µ–¥–Ω—è—è —Å–±–æ—Ä–∫–∞:** ‚úÖ BUILD SUCCEEDED

## üèóÔ∏è –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
SmartWarehouseAI/
‚îú‚îÄ‚îÄ SmartWarehouseAI.xcodeproj/       # Xcode –ø—Ä–æ–µ–∫—Ç
‚îî‚îÄ‚îÄ SmartWarehouseAI/
    ‚îú‚îÄ‚îÄ App/
    ‚îÇ   ‚îî‚îÄ‚îÄ AppSettings.swift          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ Core/
    ‚îÇ   ‚îú‚îÄ‚îÄ Database/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DatabaseManager.swift  # GRDB –º–µ–Ω–µ–¥–∂–µ—Ä –ë–î
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Models/
    ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Item.swift         # –ú–æ–¥–µ–ª—å —Ç–æ–≤–∞—Ä–∞
    ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Stock.swift        # –ú–æ–¥–µ–ª—å –æ—Å—Ç–∞—Ç–∫–æ–≤
    ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Kit.swift          # –ú–æ–¥–µ–ª—å –∫–æ–º–ø–ª–µ–∫—Ç–∞
    ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Part.swift         # –ú–æ–¥–µ–ª—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ CRUD/                      # (–≥–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
    ‚îÇ   ‚îú‚îÄ‚îÄ Logic/                     # (–≥–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
    ‚îÇ   ‚îú‚îÄ‚îÄ Search/                    # (–≥–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
    ‚îÇ   ‚îú‚îÄ‚îÄ Integrations/              # (–≥–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
    ‚îÇ   ‚îî‚îÄ‚îÄ Security/
    ‚îÇ       ‚îî‚îÄ‚îÄ KeychainHelper.swift   # –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π
    ‚îî‚îÄ‚îÄ UI/
        ‚îú‚îÄ‚îÄ DashboardView.swift        # –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
        ‚îú‚îÄ‚îÄ ItemsView.swift            # –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
        ‚îú‚îÄ‚îÄ InventoryView.swift        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–∞–º–∏
        ‚îú‚îÄ‚îÄ SearchView.swift           # –ü–æ–∏—Å–∫
        ‚îî‚îÄ‚îÄ SettingsView.swift         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
```

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** iOS 15+, macOS 12+ (Mac Catalyst)
- **–Ø–∑—ã–∫:** Swift 5.0+
- **UI:** SwiftUI
- **–ë–î:** GRDB.swift v6.29.3
- **–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ:** ZIPFoundation v0.9.19

## üöÄ –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- macOS 12.0+
- Xcode 15.0+
- Swift 5.9+

### –ö–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏

```bash
# –ß–µ—Ä–µ–∑ Xcode
open SmartWarehouseAI.xcodeproj

# –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
cd SmartWarehouseAI
xcodebuild -project SmartWarehouseAI.xcodeproj \
           -scheme SmartWarehouseAI \
           -destination 'platform=iOS Simulator,name=iPhone 17' \
           build
```

## üìä –¢–µ–∫—É—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–°–ø—Ä–∏–Ω—Ç 1: –ë–∞–∑–∞ –∏ CRUD** ‚úÖ
- [x] –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è GRDB –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- [x] –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (Item, Stock, Kit, Part)
- [x] DatabaseManager —Å CRUD –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- [x] **ItemService** ‚Äî –ø–æ–ª–Ω—ã–π CRUD –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤
- [x] **StockService** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–∞–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π min/max —É—Ä–æ–≤–Ω–µ–π
- [x] **KitService** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Ç–∞–º–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- [x] **InventoryLogic** ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–±–æ—Ä–∫–∏/—Ä–∞–∑–±–æ—Ä–∫–∏ –∫–æ–º–ø–ª–µ–∫—Ç–æ–≤
- [x] UI —ç–∫—Ä–∞–Ω—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ —Å–µ—Ä–≤–∏—Å–∞–º
- [x] KeychainHelper, AppSettings, TestDataSeeder

**–°–ø—Ä–∏–Ω—Ç 2: PDF Import** ‚úÖ
- [x] **PDFParserStrategy** ‚Äî –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –ø–∞—Ä—Å–µ—Ä–æ–≤
- [x] **TableBasedPDFParser** ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö PDF (—Ç–∞–±–ª–∏—Ü—ã, —Å–ø–∏—Å–∫–∏)
- [x] **OCRBasedPDFParser** ‚Äî Vision Framework OCR –¥–ª—è —Å–∫–∞–Ω–æ–≤
- [x] **PDFParserFactory** ‚Äî –∞–≤—Ç–æ–≤—ã–±–æ—Ä –ø–∞—Ä—Å–µ—Ä–∞
- [x] **PDFImportService** ‚Äî –ø–æ–ª–Ω—ã–π workflow –∏–º–ø–æ—Ä—Ç–∞
- [x] **PDFImportView** ‚Äî UI —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –æ—Ç—á—ë—Ç–∞–º–∏
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ ItemsView (–∫–Ω–æ–ø–∫–∞ Import PDF)
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤ –≤ OCR

**–°–ø—Ä–∏–Ω—Ç 3: Search** ‚úÖ
- [x] **FTS5Search** ‚Äî –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ SQLite FTS5
- [x] **EmbeddingEngine** ‚Äî –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —á–µ—Ä–µ–∑ NLEmbedding
- [x] **VectorStore** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–æ–∏—Å–∫ –≤–µ–∫—Ç–æ—Ä–æ–≤ –ø–æ —Å—Ö–æ–¥—Å—Ç–≤—É
- [x] **SearchService** ‚Äî –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ (FTS5 + Vector) —Å RRF
- [x] **SearchView** ‚Äî UI —Å —Ä–µ–∂–∏–º–∞–º–∏ –ø–æ–∏—Å–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- [x] Auto mode detection (SKU/single/multi-word)
- [x] BM25 ranking + Cosine similarity
- [x] Debounced search —Å cancellation

**–°–ø—Ä–∏–Ω—Ç 4: Inventory UI** ‚úÖ
- [x] **StockWithItem model** ‚Äî –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ Stock + Item
- [x] **StockService JOIN queries** ‚Äî fetchAllWithItems(), fetchLowStockWithItems()
- [x] **InventoryView redesign** ‚Äî —Å–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —Ñ–∏–ª—å—Ç—Ä—ã, –ø–æ–∏—Å–∫
- [x] **StockDetailView** ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤ —Å Quick Adjust
- [x] **AddStockView** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤
- [x] **Visual status indicators** ‚Äî —Ü–≤–µ—Ç–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
- [x] **Filters & Search** ‚Äî –ø–æ —Å—Ç–∞—Ç—É—Å—É, –ª–æ–∫–∞—Ü–∏–∏, —Ç–µ–∫—Å—Ç—É

### üîú –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (—Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É)

1. **–°–ø—Ä–∏–Ω—Ç 5:** Kit Management UI ‚è≠Ô∏è
2. **–°–ø—Ä–∏–Ω—Ç 6-7:** QR-—Å–∏—Å—Ç–µ–º–∞ + —ç–∫—Å–ø–æ—Ä—Ç
3. **–°–ø—Ä–∏–Ω—Ç 8-10:** UI —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è + AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è + —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìÅ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã

- **items** ‚Äî –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ (name, sku, description, category, barcode)
- **stocks** ‚Äî –æ—Å—Ç–∞—Ç–∫–∏ (itemId, quantity, location, minQuantity, maxQuantity)
- **kits** ‚Äî –∫–æ–º–ø–ª–µ–∫—Ç—ã (name, sku, description)
- **parts** ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–æ–º–ø–ª–µ–∫—Ç–æ–≤ (kitId, itemId, quantity)
- **items_fts** ‚Äî FTS5 –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
- **item_vectors** ‚Äî –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞

### –ò–Ω–¥–µ–∫—Å—ã

- `idx_items_sku` ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ SKU
- `idx_stocks_itemId` ‚Äî —Å–≤—è–∑—å –æ—Å—Ç–∞—Ç–∫–æ–≤ —Å —Ç–æ–≤–∞—Ä–∞–º–∏
- `idx_kits_sku` ‚Äî –ø–æ–∏—Å–∫ –∫–æ–º–ø–ª–µ–∫—Ç–æ–≤
- `idx_parts_kitId`, `idx_parts_itemId` ‚Äî —Å–≤—è–∑–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## üîë –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----------|
| `SmartWarehouseAIApp.swift` | –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `ContentView.swift` | –ì–ª–∞–≤–Ω—ã–π TabView |
| `DatabaseManager.swift` | GRDB –º–µ–Ω–µ–¥–∂–µ—Ä —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ |
| `KeychainHelper.swift` | –†–∞–±–æ—Ç–∞ —Å Keychain –¥–ª—è API –∫–ª—é—á–µ–π |
| `AppSettings.swift` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ UserDefaults |

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω—ã–π –ø–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞: [final_project_plan.md](../final_project_plan.md)

## üéØ Roadmap

- **v1.0** (Sprint 1) ‚Äî –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚úÖ
- **v1.1** (Sprint 2) ‚Äî CRUD + PDF –∏–º–ø–æ—Ä—Ç ‚úÖ
- **v1.2** (Sprint 3) ‚Äî –£–º–Ω—ã–π –ø–æ–∏—Å–∫ (FTS5 + Vector) ‚úÖ
- **v1.3** (Sprint 4) ‚Äî Inventory UI + —Ñ–∏–ª—å—Ç—Ä—ã ‚úÖ
- **v1.4** (Sprint 5-7) ‚Äî Kit Management + QR + Export (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
- **v1.5** ‚Äî –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏—á–∏ (Undo/Redo, Analytics)
- **v1.6** ‚Äî Cloud Sync (iCloud)
- **v2.0** ‚Äî Advanced AI (–õ–æ–∫–∞–ª—å–Ω—ã–π LLM, Computer Vision)

## üìû –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**Bundle ID:** com.smartwarehouse.ai
**Deployment Target:** iOS 15.0
**Build System:** Xcode Build System

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 06.10.2025
**–°—Ç–∞—Ç—É—Å —Å–±–æ—Ä–∫–∏:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã –≤ Xcode (—Å–º. ADD_FILES_TO_XCODE.md)
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:** 55% (–°–ø—Ä–∏–Ω—Ç—ã 1-4 –∑–∞–≤–µ—Ä—à–µ–Ω—ã)
